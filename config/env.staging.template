# Staging/Preview Environment Template
# Use these values in Vercel Dashboard for Preview deployments
#
# Vercel Dashboard → Project Settings → Environment Variables
# Set "Environment" to "Preview" for each variable
#
# Note: VERCEL_URL is automatically provided by Vercel and contains
# the deployment URL (without https://)

# === Core App Settings ===
# For Preview deployments, use VERCEL_URL dynamically or set a stable preview URL
NEXT_PUBLIC_APP_URL=https://${VERCEL_URL}
NEXT_PUBLIC_APP_ENV=staging
NEXT_PUBLIC_SHOW_DEV_HELPERS=true
NEXT_PUBLIC_ENABLE_DEV_HELPERS=true
NEXT_PUBLIC_SHOW_DEPLOYMENT_BANNER=true
NEXT_PUBLIC_SHOW_CHANGELOG_LINK=true

# === Supabase (same as production - shared database) ===
NEXT_PUBLIC_SUPABASE_URL=https://xkholdgzgnhelzgkklwg.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=<copy from production>
SUPABASE_SERVICE_ROLE_KEY=<copy from production>

# === Cloudflare R2 Audio Storage (same as production) ===
CLOUDFLARE_ACCOUNT_ID=<copy from production>
CLOUDFLARE_R2_ACCESS_KEY_ID=<copy from production>
CLOUDFLARE_R2_SECRET_ACCESS_KEY=<copy from production>
CLOUDFLARE_R2_BUCKET_NAME=songpig-audio
CLOUDFLARE_R2_PUBLIC_URL=<copy from production>

# === AI Severity Analysis (optional for staging) ===
AI_PROVIDER_ORDER=rule
# Or copy from production if you want AI analysis in staging:
# AI_PROVIDER_ORDER=openai,anthropic,rule
# OPENAI_API_KEY=<copy from production>
# OPENAI_SEVERITY_MODEL=gpt-4o-mini
# ANTHROPIC_API_KEY=<copy from production>
# ANTHROPIC_SEVERITY_MODEL=claude-3-haiku-20240307

# ============================================================
# EXTERNAL SERVICE CONFIGURATION REQUIRED
# ============================================================
#
# 1. SUPABASE AUTH (Dashboard > Authentication > URL Configuration)
#    Add these Redirect URLs:
#    - http://localhost:3000/auth/callback
#    - https://*.vercel.app/auth/callback  (wildcard for all previews)
#    - https://ab.songpig.com/auth/callback (production)
#
# 2. GOOGLE OAUTH (Google Cloud Console > APIs & Services > Credentials)
#    Authorized JavaScript origins:
#    - http://localhost:3000
#    - https://songpig-rooms.vercel.app (or your Vercel project URL)
#    - https://ab.songpig.com
#
#    Authorized redirect URIs:
#    - https://xkholdgzgnhelzgkklwg.supabase.co/auth/v1/callback
#
# ============================================================

